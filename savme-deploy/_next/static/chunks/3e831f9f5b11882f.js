(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,47955,e=>{"use strict";var t=e.i(71405),r=e.i(80688);e.i(62643);var a=e.i(10125),l=e.i(45538);function s(){let[e,s]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),c=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?d(!0):"dragleave"===e.type&&d(!1)},x=(t,r)=>{if("up"===r&&t>0){let r=[...e];[r[t],r[t-1]]=[r[t-1],r[t]],s(r)}else if("down"===r&&t<e.length-1){let r=[...e];[r[t],r[t+1]]=[r[t+1],r[t]],s(r)}},u=async()=>{if(e.length<2)return void alert("Please select at least 2 PDF files to merge.");i(!0);try{let t=await a.PDFDocument.create();for(let r of e){let e=await r.arrayBuffer(),l=await a.PDFDocument.load(e);(await t.copyPages(l,l.getPageIndices())).forEach(e=>t.addPage(e))}let r=await t.save(),l=new Blob([r],{type:"application/pdf"}),s=URL.createObjectURL(l),n=document.createElement("a");n.href=s,n.download="savme_merged_document.pdf",document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(e){console.error("Error merging PDFs:",e),alert("An error occurred while merging PDFs. Please try again.")}finally{i(!1)}},g=(0,r.useRef)(null),p=(0,r.useRef)(null),m=()=>{if(null!==g.current&&null!==p.current){let t=[...e],r=t[g.current];t.splice(g.current,1),t.splice(p.current,0,r),s(t)}g.current=null,p.current=null};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,t.jsxs)("div",{className:`border-2 border-dashed rounded-xl p-10 text-center transition-colors h-64 flex flex-col items-center justify-center cursor-pointer relative ${o?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50 hover:bg-gray-100"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),d(!1),e.dataTransfer.files&&e.dataTransfer.files[0]){let t=Array.from(e.dataTransfer.files).filter(e=>"application/pdf"===e.type);s(e=>[...e,...t])}},children:[(0,t.jsx)("input",{type:"file",accept:".pdf",multiple:!0,onChange:e=>{if(e.target.files){let t=Array.from(e.target.files);s(e=>[...e,...t])}},className:"absolute inset-0 opacity-0 cursor-pointer",id:"pdf-upload"}),(0,t.jsx)(l.FaUpload,{className:`text-4xl mb-4 ${o?"text-blue-500":"text-gray-400"}`}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-700",children:"Drop PDFs here"}),(0,t.jsx)("p",{className:"text-gray-500 mt-2",children:"or click to upload multiple files"})]}),e.length>0&&(0,t.jsxs)("div",{className:"mt-8 space-y-3",children:[(0,t.jsxs)("h3",{className:"font-bold text-gray-700 mb-2",children:["Files to Merge (",e.length,")"]}),e.map((r,a)=>(0,t.jsxs)("div",{draggable:!0,onDragStart:e=>{g.current=a},onDragEnter:e=>{p.current=a},onDragEnd:m,onDragOver:e=>e.preventDefault(),className:"flex items-center justify-between bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-move",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"text-gray-400 cursor-grab",children:"⋮⋮"}),(0,t.jsx)(l.FaFilePdf,{className:"text-red-500 text-xl"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-800",children:r.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[(r.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>x(a,"up"),disabled:0===a,className:"p-2 text-gray-400 hover:text-blue-500 disabled:opacity-30",children:(0,t.jsx)(l.FaArrowUp,{})}),(0,t.jsx)("button",{onClick:()=>x(a,"down"),disabled:a===e.length-1,className:"p-2 text-gray-400 hover:text-blue-500 disabled:opacity-30",children:(0,t.jsx)(l.FaArrowDown,{})}),(0,t.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-500 ml-2",onClick:()=>{s(e=>e.filter((e,t)=>t!==a))},title:"Remove file",children:(0,t.jsx)(l.FaTrash,{})})]})]},a))]}),e.length>0&&(0,t.jsxs)("div",{className:"mt-8 text-center",children:[(0,t.jsxs)("button",{className:"inline-flex items-center gap-2 px-8 py-4 bg-red-600 hover:bg-red-700 text-white font-bold text-lg rounded-xl shadow-lg hover:shadow-xl transition-all disabled:opacity-70 disabled:cursor-wait",onClick:u,disabled:n,children:[n?(0,t.jsx)(l.FaSpinner,{className:"animate-spin"}):(0,t.jsx)(l.FaDownload,{}),n?"Merging PDFs...":"Merge PDF Now"]}),!n&&e.length<2&&(0,t.jsx)("p",{className:"text-red-500 mt-2 text-sm",children:"Please select at least 2 files"})]})]})}e.s(["default",()=>s])},39569,e=>{e.n(e.i(47955))}]);