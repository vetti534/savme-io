(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46612,e=>{"use strict";var t=e.i(71405),a=e.i(80688);e.i(62643);var r=e.i(10125),s=e.i(40212),l=e.i(45538);function i(){let[e,i]=(0,a.useState)(null),[o,n]=(0,a.useState)(0),[d,c]=(0,a.useState)([]),[x,m]=(0,a.useState)([]),[g,p]=(0,a.useState)(!1),[h,u]=(0,a.useState)(!1),b=async e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];if("application/pdf"!==t.type)return void alert("Please upload a valid PDF file.");i(t),m([]),c([]),f(t)}},f=async e=>{u(!0);try{let t=await e.arrayBuffer(),a=await s.getDocument(t).promise;n(a.numPages);let r=[],l=Math.min(a.numPages,50);for(let e=1;e<=l;e++){let t=await a.getPage(e),s=t.getViewport({scale:.3}),l=document.createElement("canvas"),i=l.getContext("2d");l.height=s.height,l.width=s.width,i&&(await t.render({canvasContext:i,viewport:s}).promise,r.push(l.toDataURL()))}c(r)}catch(e){console.error("Error generating thumbnails:",e),alert("Failed to load preview.")}finally{u(!1)}},y=async()=>{if(e){p(!0);try{if(0===x.length){alert("Please select at least one page to remove."),p(!1);return}if(x.length===o){alert("You cannot remove all pages!"),p(!1);return}let t=await e.arrayBuffer(),a=await r.PDFDocument.load(t),s=await r.PDFDocument.create(),l=a.getPageIndices().filter(e=>!x.includes(e+1));(await s.copyPages(a,l)).forEach(e=>s.addPage(e));let i=await s.save(),n=new Blob([i],{type:"application/pdf"}),d=document.createElement("a");d.href=URL.createObjectURL(n),d.download=`removed_pages_${e.name}`,document.body.appendChild(d),d.click(),document.body.removeChild(d)}catch(e){console.error("Removal failed:",e),alert("An error occurred while processing.")}finally{p(!1)}}};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[!e&&(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-10 text-center bg-gray-50 hover:bg-gray-100 transition-colors h-64 flex flex-col items-center justify-center cursor-pointer relative",children:[(0,t.jsx)("input",{type:"file",accept:".pdf",onChange:b,className:"absolute inset-0 opacity-0 cursor-pointer"}),(0,t.jsx)(l.FaUpload,{className:"text-4xl text-red-500 mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-700",children:"Drop PDF here"}),(0,t.jsx)("p",{className:"text-gray-500 mt-2",children:"to remove pages"})]}),e&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(l.FaFilePdf,{className:"text-red-500 text-2xl"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-gray-800",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[o," Pages â€¢ ",(e.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,t.jsx)("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600 px-3 py-1",children:"Change File"})]}),(0,t.jsx)("div",{className:"p-6",children:h?(0,t.jsxs)("div",{className:"text-center py-10",children:[(0,t.jsx)(l.FaSpinner,{className:"animate-spin text-3xl text-red-500 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Loading pages..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Click pages to ",(0,t.jsx)("span",{className:"text-red-600 font-bold",children:"remove"})," users."]}),(0,t.jsx)("div",{className:"flex gap-2 text-sm",children:(0,t.jsx)("button",{onClick:()=>m([]),className:"text-blue-600 hover:underline",children:"Unselect All"})})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 max-h-[500px] overflow-y-auto pr-2",children:d.map((e,a)=>{let r=a+1,s=x.includes(r);return(0,t.jsxs)("div",{onClick:()=>{let e;return e=a+1,void m(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e].sort((e,t)=>e-t))},className:`relative group cursor-pointer border-2 rounded-lg overflow-hidden transition-all ${s?"border-red-500 ring-2 ring-red-200 opacity-60 grayscale":"border-gray-200 hover:border-red-300"}`,children:[(0,t.jsx)("img",{src:e,alt:`Page ${r}`,className:"w-full h-auto"}),(0,t.jsx)("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity ${s?"bg-red-500/20 opacity-100":"opacity-0 group-hover:opacity-100 bg-black/10"}`,children:s?(0,t.jsx)(l.FaTrash,{className:"text-red-600 text-3xl drop-shadow-md"}):(0,t.jsx)(l.FaTrash,{className:"text-white text-2xl drop-shadow-md"})}),(0,t.jsx)("div",{className:`absolute bottom-0 inset-x-0 text-white text-xs text-center py-1 ${s?"bg-red-500":"bg-black/50"}`,children:s?"REMOVED":`Page ${r}`})]},a)})})]})}),(0,t.jsx)("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:(0,t.jsxs)("button",{onClick:y,disabled:g||0===x.length,className:"flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg disabled:opacity-50 transition-all shadow-lg hover:shadow-xl",children:[g?(0,t.jsx)(l.FaSpinner,{className:"animate-spin"}):(0,t.jsx)(l.FaDownload,{}),"Remove ",x.length," & Download PDF"]})})]})]})}"Worker"in window&&(s.GlobalWorkerOptions.workerSrc=`https://unpkg.com/pdfjs-dist@${s.version}/build/pdf.worker.min.mjs`),e.s(["default",()=>i])},60215,e=>{e.n(e.i(46612))}]);